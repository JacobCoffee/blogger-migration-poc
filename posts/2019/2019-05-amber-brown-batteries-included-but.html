<!DOCTYPE html>
<html lang="en" data-accent-color="indigo" data-content_root="../../">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Amber Brown: Batteries Included, But They’re Leaking - Python Blog</title><link rel="shortcut icon" href="../../_static/badge.svg"/><link rel="index" title="Index" href="../../genindex.html" /><link rel="search" title="Search" href="../../search.html" /><script>
    function setColorMode(t){let e=document.documentElement;e.setAttribute("data-color-mode",t);let a=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches,s=t;"auto"===t&&(s=a?"dark":"light"),"light"===s?(e.classList.remove("dark"),e.classList.add("light")):(e.classList.remove("light"),e.classList.add("dark"))}
    setColorMode(localStorage._theme||"auto");
  </script><link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=397bb51e" />
    <link rel="stylesheet" type="text/css" href="../../_static/shibuya.css?v=301e5329" />
    <link rel="stylesheet" type="text/css" href="../../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../../_static/sphinx-design.min.css?v=87e54e7c" />
    <link media="print" rel="stylesheet" type="text/css" href="../../_static/print.css?v=20ff2c19" />
    <link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
<style>
:root {
  --sy-f-text: "Inter", var(--sy-f-sys), var(--sy-f-cjk), sans-serif;
  --sy-f-heading: "Inter", var(--sy-f-sys), var(--sy-f-cjk), sans-serif;
}
</style>
    



</head>
<body><div class="sy-head">
  <div class="sy-head-blur"></div>
  <div class="sy-head-inner sy-container mx-auto">
    <a class="sy-head-brand" href="/">
      <img class="light-logo" src="../../_static/badge.svg" alt="Python Blog" height="28" loading="lazy" />
      <img class="dark-logo" src="../../_static/badge.svg" alt="Python Blog" height="28" loading="lazy" />
      <strong>Python Blog</strong>
    </a>
    <div class="sy-head-nav" id="HeadNav">
      <nav class="sy-head-links"><ul><li class="link"><a href="../../index.html">Home</a></li>
      <li class="link"><button type="button">
            <span>Community</span>
            <i class="i-lucide chevron-down"></i>
          </button>
        <ul><li><a href="https://www.python.org/dev/">
                <span>Contributing</span>
                <small>Learn how to contribute to the Python project</small>
              </a></li><li><a href="https://policies.python.org/python.org/code-of-conduct/">
                <span>Code of Conduct</span>
                <small>Review the etiquette for interacting with the Python community</small>
              </a></li><li><a href="https://www.python.org/dev/security/">
                <span>Security</span>
                <small>Overview of PSFs's security protocols</small>
              </a></li></ul>
      </li>
      <li class="link"><button type="button">
            <span>About</span>
            <i class="i-lucide chevron-down"></i>
          </button>
        <ul><li><a href="https://www.python.org/psf-landing/">
                <span>Python Software Foundation</span>
                <small>Details about the PSF</small>
              </a></li><li><a href="https://www.python.org/downloads/">
                <span>Releases</span>
                <small>Explore the latest Python releases</small>
              </a></li></ul>
      </li>
      <li class="link"><button type="button">
            <span>Help</span>
            <i class="i-lucide chevron-down"></i>
          </button>
        <ul><li><a href="https://discord.gg/python">
                <span>Discord Help Forum</span>
                <small>Dedicated Discord help forum</small>
              </a></li><li><a href="https://discuss.python.org/">
                <span>Board Discussions</span>
                <small>Board Discussions</small>
              </a></li></ul>
      </li><li class="link">
          <a href="https://github.com/sponsors/python">
            <span>Sponsor</span></a>
        </li></ul></nav>
      <div class="sy-head-extra flex items-center print:hidden"><form class="searchbox flex items-center" action="../../search.html" method="get">
  <input type="text" name="q" placeholder="Search" />
  <kbd>/</kbd>
</form><div class="sy-head-socials"></div></div>
    </div>
    <div class="sy-head-actions flex items-center shrink-0 print:hidden"><button class="js-theme theme-switch flex items-center"
data-aria-auto="Switch to light color mode"
data-aria-light="Switch to dark color mode"
data-aria-dark="Switch to auto color mode">
<i class="i-lucide theme-icon"></i>
</button><button class="md:hidden flex items-center js-menu" aria-label="Menu" type="button" aria-controls="HeadNav" aria-expanded="false">
        <div class="hamburger">
          <span class="hamburger_1"></span>
          <span class="hamburger_2 -translate-x-2"></span>
          <span class="hamburger_3 -translate-x-1"></span>
        </div>
      </button>
    </div>
  </div>
</div><div class="sy-container mx-auto body">
    <main class="sy-content mx-auto pt-12 px-6 xl:px-12 break-words">
      <article class="yue" role="main">
        
<section id="amber-brown-batteries-included-but-they-re-leaking">
<h1>Amber Brown: Batteries Included, But They’re Leaking<a class="headerlink" href="#amber-brown-batteries-included-but-they-re-leaking" title="Link to this heading">¶</a></h1>
<p><em>This was originally posted on blogger</em> <a class="reference external" href="https://pyfound.blogspot.com/2019/05/amber-brown-batteries-included-but.html">here</a>.</p>
<p><a class="reference external" href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEhTGrZH3e4Bpo_lViCfQhWEo2Sfjywxk8N1qF_qZWCVeuSGvQHd87B_x2j36UuENJZRBliezALHmlgSKO3lnTukn-Qwl7-zx8A0upu0MYTbw0V-uY7Kr9isAFOMvZHry-jNFw/s640/amber-brown-2.jpg">![</a>](<a class="reference external" href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEhTGrZH3e4Bpo_lViCfQhWEo2Sfjywxk8N1qF_qZWCVeuSGvQHd87B_x2j36UuENJZRBliezALHmlgSKO3lnTukn">https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEhTGrZH3e4Bpo_lViCfQhWEo2Sfjywxk8N1qF_qZWCVeuSGvQHd87B_x2j36UuENJZRBliezALHmlgSKO3lnTukn</a>-
Qwl7-zx8A0upu0MYTbw0V-uY7Kr9isAFOMvZHry-jNFw/s1600/amber-brown-2.jpg)</p>
<p>Amber Brown of the Twisted project shared her criticisms of the Python
standard library. This proved to be the day’s most controversial talk; Guido
van Rossum stormed from the room during Q &amp; A.</p>
<p><a class="reference external" href="https://pyfound.blogspot.com/2019/05/the-2019-python-language-summit.html">Read more 2019 Python Language Summit
coverage</a>.</p>
</section>
<section id="applications-need-more-than-the-standard-library">
<h1>Applications Need More Than The Standard Library<a class="headerlink" href="#applications-need-more-than-the-standard-library" title="Link to this heading">¶</a></h1>
<p>Python claims to ship with batteries included, but according to Brown, without
external packages it is only “marginally useful.” For example, <cite>asyncio</cite>
requires external libraries to connect to a database or to speak HTTP. Brown
asserted that there were many such dependencies from the standard library to
PyPI: <cite>typing</cite> works best with <cite>mypy</cite>, the <cite>ssl</cite> module requires a monkeypatch
to connect to non-ASCII domain names, <cite>datetime</cite> needs <cite>pytz</cite>, and <cite>six</cite> is
non-optional for writing code for Python 2 and 3.</p>
<p>Other standard library modules are simply inferior to alternatives on PyPI.
The <cite>http.client</cite> documentation advises readers to use Requests, and the
<cite>datetime</cite> module is confusing compared to its competitors such as <cite>arrow</cite>,
<cite>dateutil</cite>, and <cite>moment</cite>.</p>
</section>
<section id="poor-quality-lagging-features-and-obsolete-code">
<h1>Poor Quality, Lagging Features, And Obsolete Code<a class="headerlink" href="#poor-quality-lagging-features-and-obsolete-code" title="Link to this heading">¶</a></h1>
<p>“Python’s batteries are leaking,” said Brown. She thinks that some bugs in the
standard library will never be fixed. And even when bugs are fixed, PyPI
libraries like Twisted cannot assume they run on the latest Python, so they
must preserve their bug workarounds forever.</p>
<p>There are many modules that few applications use, but there is no method to
install a subset of the standard library. Brown called out the XML parser and
<cite>tkinter</cite> in particular for making the standard library larger and harder to
build, burdening all programmers for the sake of a few. As Russell Keith-Magee
had described earlier in the day, the size of the standard library makes it
difficult for PyBee to run Python on constrained devices. Brown also noted
that some standard library modules were optimized in C for Python 3, but had
to be reimplemented in pure Python for PyPy to support them.</p>
<p>Brown identified new standard library features that were “too little, too
late,” leaving users to depend on backports to use those features in Python 2.
For example, <cite>socket</cite>.`sendmsg` was added only recently, meaning Twisted must
ship its own C extension to use <cite>sendmsg</cite> in Python 2. Although Python 2 is
nearly at its end of life, this only holds for the core developers, according
to Brown, and for users, Red Hat and other distributors will keep Python 2
alive “until the goddam end of time.” Brown also mentioned that some
<cite>itertools</cite> code is shown as examples in the documentation instead of shipped
as functions in the <cite>itertools</cite> module.</p>
<p>Guido van Rossum, sitting at the back of the room, interrupted at this moment,
“Can you keep to one topic? I’m sorry but this is just one long winding rant.
What is your point?” Brown responded that her point was that there are a
multitude of problems in the standard library.</p>
</section>
<section id="standard-library-modules-crowd-out-innovation">
<h1>Standard Library Modules Crowd Out Innovation<a class="headerlink" href="#standard-library-modules-crowd-out-innovation" title="Link to this heading">¶</a></h1>
<p>Brown’s most controversial opinion, in her own estimation, is that adding
modules to the standard library stifles innovation, by discouraging
programmers from using or contributing to competing PyPI packages. Ever since
<cite>asyncio</cite> was announced she has had to explain why Twisted is still
worthwhile, and now that data classes are in the standard library Hynek
Schlawack must defend his <cite>attrs</cite> package. Even as standard library modules
crowd out other projects, they lag behind them. According to Brown, “the
standard library is where code sometimes goes to die,” because it is difficult
and slow to contribute code there. She acknowledged recent improvements, from
Mariatta Wijaya’s efforts in particular, but Python is still harder to
contribute to than PyPI packages.</p>
<p>“So I know a lot of this is essentially a rant,” she concluded, “but it’s
fully intended to be.”</p>
</section>
<section id="discussion">
<h1>Discussion<a class="headerlink" href="#discussion" title="Link to this heading">¶</a></h1>
<p><a class="reference external" href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEhVmPjae5F1hf0n1gE5hzd7ip8iZkKaDYYEXnwD7Iukc0niGltsnKHQ2uOr4LGMUSuVSxrC5yrzYFDhzVbZPTj6JBUJ5-1s2Msg4oAuIeblSwU1Vl9D6kq_3N2oH1b2sYD-Gw/s320/amber-brown-1.jpg">![</a>](<a class="reference external" href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEhVmPjae5F1hf0n1gE5hzd7ip8iZkKaDYYEXnwD7Iukc0niGltsnKHQ2uOr4LGMUSuVSxrC5yrzYFDhzVbZPTj6JBUJ5-1s2Msg4oAuIeblSwU1Vl9D6kq_3N2oH1b2sYD">https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEhVmPjae5F1hf0n1gE5hzd7ip8iZkKaDYYEXnwD7Iukc0niGltsnKHQ2uOr4LGMUSuVSxrC5yrzYFDhzVbZPTj6JBUJ5-1s2Msg4oAuIeblSwU1Vl9D6kq_3N2oH1b2sYD</a>-
Gw/s1600/amber-brown-1.jpg)</p>
<p>Nick Coghlan interpreted Brown’s proposal as generalizing the “ensurepip”
model to ensure some packages are always available but can be upgraded
separately from the standard library, and he thought this was reasonable.</p>
<p>Van Rossum was less convinced. He asked again, “Amber, what is your point?”
Brown said her point was to move <cite>asyncio</cite> to PyPI, along with most new
feature development. “We should embrace PyPI,” she exhorted. Some ecosystems
such as Javascript rely too much on packages, she conceded, but there are
others like Rust that have small standard libraries and high-quality package
repositories. She thinks that Python should move farther in that direction.</p>
<p>Van Rossum argued instead that if the Twisted team wants the ecosystem to
evolve, they should stop supporting older Python versions and force users to
upgrade. Brown acknowledged this point, but said half of Twisted users are
still on Python 2 and it is difficult to abandon them. The debate at this
point became personal for Van Rossum, and he left angrily.</p>
<p>Nathaniel Smith commented, “I’m noticing some tension here.” He guessed that
Brown and the core team were talking past each other because the core team had
different concerns from other Python programmers. Brown went further adding
that because few Python core developers are also major library maintainers,
library authors’ complaints are devalued or ignored.</p>
<p>The remaining core developers continued the technical discussion. Barry Warsaw
said that the core team had discussed deprecating modules in the standard
library, or creating slim distributions with a subset of it, but that it
required a careful design. Others objected that slimming down the standard
library risked breaking downstream code, or making work for programmers in
enterprises that trust the standard library but not PyPI.</p>
<p>Pablo Galindo Salgado was concerned that moving modules from the standard
library to PyPI would create an explosion of configurations to test, but in
Brown’s opinion, “We are already living that life.” Some Linux and Python
distributions have selectively backported features and fixes, leading to a
much more complex set of configurations than the core team realizes.</p>
</section>

<div class="section ablog__blog_comments">
  
  


<div class="section ablog__prev-next">
  <span class="ablog__prev">
    
    
    Previous:
    
    <a href="2019-05-the-2019-python-language-summit.html">
      
      <span>The 2019 Python Language Summit</span>
    </a>
    
  </span>
  <span class="ablog__spacer">&nbsp;</span>
  <span class="ablog__next">
    
    
    Next:
    
    <a href="2019-05-scott-shawcroft-history-of-circuitpython.html">
      <span>Scott Shawcroft: History of CircuitPython</span>
      
    </a>
    
  </span>
</div>

  
  
</div>

      </article>
      
    </main>
  </div><footer class="sy-foot">
  <div class="sy-foot-inner sy-container mx-auto">
    <div class="sy-foot-reserved md:flex justify-between items-center">
      <div class="sy-foot-copyright"><p>2024, Python Software Foundation</p>
  
  <p>
    Made with
    
    <a href="https://www.sphinx-doc.org/">Sphinx</a> and
    
    <a href="https://shibuya.lepture.com">Shibuya theme</a>.
  </p>
</div>
      <div class="sy-foot-socials"></div>
    </div>
  </div>
</footer>
      <script src="../../_static/documentation_options.js?v=8a448e45"></script>
      <script src="../../_static/doctools.js?v=9a2dae69"></script>
      <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
      <script src="../../_static/clipboard.min.js?v=a7894cd8"></script>
      <script src="../../_static/copybutton.js?v=f281be69"></script>
      <script src="../../_static/design-tabs.js?v=f930bc37"></script>
      <script src="../../_static/shibuya.js?v=3cc430e2"></script></body>
</html>