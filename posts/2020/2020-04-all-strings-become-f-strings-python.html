<!DOCTYPE html>
<html lang="en" data-accent-color="indigo" data-content_root="../../">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Should All Strings Become f-strings? - Python Language Summit 2020 - Python Blog</title><link rel="shortcut icon" href="../../_static/badge.svg"/><link rel="index" title="Index" href="../../genindex.html" /><link rel="search" title="Search" href="../../search.html" /><script>
    function setColorMode(t){let e=document.documentElement;e.setAttribute("data-color-mode",t);let a=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches,s=t;"auto"===t&&(s=a?"dark":"light"),"light"===s?(e.classList.remove("dark"),e.classList.add("light")):(e.classList.remove("light"),e.classList.add("dark"))}
    setColorMode(localStorage._theme||"auto");
  </script><link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=397bb51e" />
    <link rel="stylesheet" type="text/css" href="../../_static/shibuya.css?v=301e5329" />
    <link rel="stylesheet" type="text/css" href="../../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../../_static/sphinx-design.min.css?v=87e54e7c" />
    <link media="print" rel="stylesheet" type="text/css" href="../../_static/print.css?v=20ff2c19" />
    <link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
<style>
:root {
  --sy-f-text: "Inter", var(--sy-f-sys), var(--sy-f-cjk), sans-serif;
  --sy-f-heading: "Inter", var(--sy-f-sys), var(--sy-f-cjk), sans-serif;
}
</style>
    



</head>
<body><div class="sy-head">
  <div class="sy-head-blur"></div>
  <div class="sy-head-inner sy-container mx-auto">
    <a class="sy-head-brand" href="/">
      <img class="light-logo" src="../../_static/badge.svg" alt="Python Blog" height="28" loading="lazy" />
      <img class="dark-logo" src="../../_static/badge.svg" alt="Python Blog" height="28" loading="lazy" />
      <strong>Python Blog</strong>
    </a>
    <div class="sy-head-nav" id="HeadNav">
      <nav class="sy-head-links"><ul><li class="link"><a href="../../index.html">Home</a></li>
      <li class="link"><button type="button">
            <span>Community</span>
            <i class="i-lucide chevron-down"></i>
          </button>
        <ul><li><a href="https://www.python.org/dev/">
                <span>Contributing</span>
                <small>Learn how to contribute to the Python project</small>
              </a></li><li><a href="https://policies.python.org/python.org/code-of-conduct/">
                <span>Code of Conduct</span>
                <small>Review the etiquette for interacting with the Python community</small>
              </a></li><li><a href="https://www.python.org/dev/security/">
                <span>Security</span>
                <small>Overview of PSFs's security protocols</small>
              </a></li></ul>
      </li>
      <li class="link"><button type="button">
            <span>About</span>
            <i class="i-lucide chevron-down"></i>
          </button>
        <ul><li><a href="https://www.python.org/psf-landing/">
                <span>Python Software Foundation</span>
                <small>Details about the PSF</small>
              </a></li><li><a href="https://www.python.org/downloads/">
                <span>Releases</span>
                <small>Explore the latest Python releases</small>
              </a></li></ul>
      </li>
      <li class="link"><button type="button">
            <span>Help</span>
            <i class="i-lucide chevron-down"></i>
          </button>
        <ul><li><a href="https://discord.gg/python">
                <span>Discord Help Forum</span>
                <small>Dedicated Discord help forum</small>
              </a></li><li><a href="https://discuss.python.org/">
                <span>Board Discussions</span>
                <small>Board Discussions</small>
              </a></li></ul>
      </li><li class="link">
          <a href="https://github.com/sponsors/python">
            <span>Sponsor</span></a>
        </li></ul></nav>
      <div class="sy-head-extra flex items-center print:hidden"><form class="searchbox flex items-center" action="../../search.html" method="get">
  <input type="text" name="q" placeholder="Search" />
  <kbd>/</kbd>
</form><div class="sy-head-socials"></div></div>
    </div>
    <div class="sy-head-actions flex items-center shrink-0 print:hidden"><button class="js-theme theme-switch flex items-center"
data-aria-auto="Switch to light color mode"
data-aria-light="Switch to dark color mode"
data-aria-dark="Switch to auto color mode">
<i class="i-lucide theme-icon"></i>
</button><button class="md:hidden flex items-center js-menu" aria-label="Menu" type="button" aria-controls="HeadNav" aria-expanded="false">
        <div class="hamburger">
          <span class="hamburger_1"></span>
          <span class="hamburger_2 -translate-x-2"></span>
          <span class="hamburger_3 -translate-x-1"></span>
        </div>
      </button>
    </div>
  </div>
</div><div class="sy-container mx-auto body">
    <main class="sy-content mx-auto pt-12 px-6 xl:px-12 break-words">
      <article class="yue" role="main">
        
<section id="should-all-strings-become-f-strings-python-language-summit-2020">
<h1>Should All Strings Become f-strings? - Python Language Summit 2020<a class="headerlink" href="#should-all-strings-become-f-strings-python-language-summit-2020" title="Link to this heading">¶</a></h1>
<p><em>This was originally posted on blogger</em> <a class="reference external" href="https://pyfound.blogspot.com/2020/04/all-strings-become-f-strings-python.html">here</a>.</p>
<p><a class="reference external" href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEikEBxyX3QjlRyq5sdnwlB_y-7ZFKYAYk8LmEI7kDgHTAZ_mebLKrRFb4_4X7ZF3lMy7x9NBkVhNbVHs_1XE7KieU4kUVlxzj968yzr5xytlsGEq9uG0R6blu5jwellmv1ZAw/s320/eric-smith.jpg">![</a>](<a class="reference external" href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEikEBxyX3QjlRyq5sdnwlB_y-7ZFKYAYk8LmEI7kDgHTAZ_mebLKrRFb4_4X7ZF3lMy7x9NBkVhNbVHs_1XE7KieU4kUVlxzj968yzr5xytlsGEq9uG0R6blu5jwellmv1ZAw/s1600/eric">https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEikEBxyX3QjlRyq5sdnwlB_y-7ZFKYAYk8LmEI7kDgHTAZ_mebLKrRFb4_4X7ZF3lMy7x9NBkVhNbVHs_1XE7KieU4kUVlxzj968yzr5xytlsGEq9uG0R6blu5jwellmv1ZAw/s1600/eric</a>-
smith.jpg)</p>
<p>The first language change proposed this year was the most radical: to make
f-strings the default. Eric V. Smith, who wrote <a class="reference external" href="https://www.python.org/dev/peps/pep-0498/">the PEP for
f-strings</a> in 2015, said they are
the killer feature of Python 3.6, and they are the motivation for many of his
clients to move to Python 3. However, they are error-prone. It’s common to
forget the “f” prefix:</p>
<blockquote>
<div><p>x = 1
# Forgot the f prefix.
print(“The value is {x}”)</p>
</div></blockquote>
<p>Smith has observed programmers f-prefixing all strings, whether they include
substitutions or not, just to avoid this mistake.</p>
<p><a class="reference external" href="https://pyfound.blogspot.com/2020/04/the-2020-python-language-summit.html">Read more 2020 Python Language Summit
coverage.</a></p>
<ul class="simple">
<li><ul>
<li><ul>
<li></li>
</ul>
</li>
</ul>
</li>
</ul>
<p>When f-strings were added in 3.6, it was suggested to make them the default,
but this was too big a breaking change. Besides, replacing all literal brace
characters with double braces would be ugly:</p>
<blockquote>
<div><p>“A single pair of braces: {{}}”</p>
</div></blockquote>
<p>In this year’s Summit, Smith proposed again to make f-strings the default. The
following kinds of strings would become f-strings:</p>
<blockquote>
<div><ul class="simple">
<li><p>` “string”` — an f-string</p></li>
<li><p><cite>f”string”</cite> — still an f-string</p></li>
<li><p><cite>r”string”</cite> — a raw f-string</p></li>
</ul>
</div></blockquote>
<p>Binary literals like b”string” would not become f-strings. Smith would add a
new “p” string prefix for plain strings, which would behave like ordinary
strings today.</p>
<blockquote>
<div><ul class="simple">
<li><p><cite>p”string”</cite> — a plain string</p></li>
</ul>
</div></blockquote>
<p>Performance would not be affected: the runtime behavior of a string without
any substitutions would be the same as today. Plain strings would still have
some uses; for example, regular expressions that include braces, or as the
input to <cite>str.format</cite>. In Smith’s opinion, f-strings have superseded
<cite>str.format</cite>, but several in the audience objected that <cite>str.format</cite> with a
plain string allows for late binding, and f-strings don’t obviate
<cite>str.format_map</cite>.</p>
<p>Smith acknowledged some problems with his idea. It would introduce yet another
string prefix. Flipping the master switch to enable f-mode would break some
code, so there must be a way to gradually enable the change module by module,
perhaps like:</p>
<blockquote>
<div><p>from __future__ import all_fstrings</p>
</div></blockquote>
<p>He was concerned the change was so drastic that the Python core developers
would never have the nerve to enable it without requiring a <cite>future</cite> import.
If so, the idea should be abandoned right away.</p>
<p>Yarko Tymciurak asked via chat: “How do you describe to beginners what p’why
is this needed’ is?” Smith conceded that p-strings make the language more
complicated, but, he said, “There’s going to be very few p’s in the wild, and
I think their explanation will be fairly obvious.”</p>
<p>Several attendees were enthusiastic to make the change. Brett Cannon said that
removing the need for f-prefix would make the language easier for beginners.</p>
<p>Larry Hastings pointed out that PHP strings are format strings by default and
“the script kids love it.” However, he wrote, “It seems to me this is solving
the problem of ‘oh I forgot to put an f in front of my string’, and not
noticing until it’s too late. Is that problem bad enough that we have to
change the language? “ Many agreed that f-strings by default would have been a
good idea if Python were beginning from scratch; however, Paul Moore, Guido
van Rossum, and others feared the disruption would outweigh the benefits.__
The group concluded that Smith should send his PEP to the mailing list for
further debate.</p>
</section>

<div class="section ablog__blog_comments">
  
  


<div class="section ablog__prev-next">
  <span class="ablog__prev">
    
    
    Previous:
    
    <a href="2020-04-the-path-forward-for-typing-python.html">
      
      <span>The path forward for typing - Python Language Summit 2020</span>
    </a>
    
  </span>
  <span class="ablog__spacer">&nbsp;</span>
  <span class="ablog__next">
    
    
    Next:
    
    <a href="2020-05-property-based-testing-for-python.html">
      <span>Property-Based Testing for Python builtins and the standard library - Python Language Summit 2020</span>
      
    </a>
    
  </span>
</div>

  
  
</div>

      </article>
      
    </main>
  </div><footer class="sy-foot">
  <div class="sy-foot-inner sy-container mx-auto">
    <div class="sy-foot-reserved md:flex justify-between items-center">
      <div class="sy-foot-copyright"><p>2024, Python Software Foundation</p>
  
  <p>
    Made with
    
    <a href="https://www.sphinx-doc.org/">Sphinx</a> and
    
    <a href="https://shibuya.lepture.com">Shibuya theme</a>.
  </p>
</div>
      <div class="sy-foot-socials"></div>
    </div>
  </div>
</footer>
      <script src="../../_static/documentation_options.js?v=8a448e45"></script>
      <script src="../../_static/doctools.js?v=9a2dae69"></script>
      <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
      <script src="../../_static/clipboard.min.js?v=a7894cd8"></script>
      <script src="../../_static/copybutton.js?v=f281be69"></script>
      <script src="../../_static/design-tabs.js?v=f930bc37"></script>
      <script src="../../_static/shibuya.js?v=3cc430e2"></script></body>
</html>