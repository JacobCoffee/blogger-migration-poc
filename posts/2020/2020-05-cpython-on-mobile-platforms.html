<!DOCTYPE html>
<html lang="en" data-accent-color="indigo" data-content_root="../../">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0"><title>CPython on Mobile platforms - Python Language Summit 2020 - Python Blog</title><link rel="shortcut icon" href="../../_static/badge.svg"/><link rel="index" title="Index" href="../../genindex.html" /><link rel="search" title="Search" href="../../search.html" /><script>
    function setColorMode(t){let e=document.documentElement;e.setAttribute("data-color-mode",t);let a=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches,s=t;"auto"===t&&(s=a?"dark":"light"),"light"===s?(e.classList.remove("dark"),e.classList.add("light")):(e.classList.remove("light"),e.classList.add("dark"))}
    setColorMode(localStorage._theme||"auto");
  </script><link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=397bb51e" />
    <link rel="stylesheet" type="text/css" href="../../_static/shibuya.css?v=301e5329" />
    <link rel="stylesheet" type="text/css" href="../../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../../_static/sphinx-design.min.css?v=87e54e7c" />
    <link media="print" rel="stylesheet" type="text/css" href="../../_static/print.css?v=20ff2c19" />
    <link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
<style>
:root {
  --sy-f-text: "Inter", var(--sy-f-sys), var(--sy-f-cjk), sans-serif;
  --sy-f-heading: "Inter", var(--sy-f-sys), var(--sy-f-cjk), sans-serif;
}
</style>
    



</head>
<body><div class="sy-head">
  <div class="sy-head-blur"></div>
  <div class="sy-head-inner sy-container mx-auto">
    <a class="sy-head-brand" href="/">
      <img class="light-logo" src="../../_static/badge.svg" alt="Python Blog" height="28" loading="lazy" />
      <img class="dark-logo" src="../../_static/badge.svg" alt="Python Blog" height="28" loading="lazy" />
      <strong>Python Blog</strong>
    </a>
    <div class="sy-head-nav" id="HeadNav">
      <nav class="sy-head-links"><ul><li class="link"><a href="../../index.html">Home</a></li>
      <li class="link"><button type="button">
            <span>Community</span>
            <i class="i-lucide chevron-down"></i>
          </button>
        <ul><li><a href="https://www.python.org/dev/">
                <span>Contributing</span>
                <small>Learn how to contribute to the Python project</small>
              </a></li><li><a href="https://policies.python.org/python.org/code-of-conduct/">
                <span>Code of Conduct</span>
                <small>Review the etiquette for interacting with the Python community</small>
              </a></li><li><a href="https://www.python.org/dev/security/">
                <span>Security</span>
                <small>Overview of PSFs's security protocols</small>
              </a></li></ul>
      </li>
      <li class="link"><button type="button">
            <span>About</span>
            <i class="i-lucide chevron-down"></i>
          </button>
        <ul><li><a href="https://www.python.org/psf-landing/">
                <span>Python Software Foundation</span>
                <small>Details about the PSF</small>
              </a></li><li><a href="https://www.python.org/downloads/">
                <span>Releases</span>
                <small>Explore the latest Python releases</small>
              </a></li></ul>
      </li>
      <li class="link"><button type="button">
            <span>Help</span>
            <i class="i-lucide chevron-down"></i>
          </button>
        <ul><li><a href="https://discord.gg/python">
                <span>Discord Help Forum</span>
                <small>Dedicated Discord help forum</small>
              </a></li><li><a href="https://discuss.python.org/">
                <span>Board Discussions</span>
                <small>Board Discussions</small>
              </a></li></ul>
      </li><li class="link">
          <a href="https://github.com/sponsors/python">
            <span>Sponsor</span></a>
        </li></ul></nav>
      <div class="sy-head-extra flex items-center print:hidden"><form class="searchbox flex items-center" action="../../search.html" method="get">
  <input type="text" name="q" placeholder="Search" />
  <kbd>/</kbd>
</form><div class="sy-head-socials"></div></div>
    </div>
    <div class="sy-head-actions flex items-center shrink-0 print:hidden"><button class="js-theme theme-switch flex items-center"
data-aria-auto="Switch to light color mode"
data-aria-light="Switch to dark color mode"
data-aria-dark="Switch to auto color mode">
<i class="i-lucide theme-icon"></i>
</button><button class="md:hidden flex items-center js-menu" aria-label="Menu" type="button" aria-controls="HeadNav" aria-expanded="false">
        <div class="hamburger">
          <span class="hamburger_1"></span>
          <span class="hamburger_2 -translate-x-2"></span>
          <span class="hamburger_3 -translate-x-1"></span>
        </div>
      </button>
    </div>
  </div>
</div><div class="sy-container mx-auto body">
    <main class="sy-content mx-auto pt-12 px-6 xl:px-12 break-words">
      <article class="yue" role="main">
        
<section id="cpython-on-mobile-platforms-python-language-summit-2020">
<h1>CPython on Mobile platforms - Python Language Summit 2020<a class="headerlink" href="#cpython-on-mobile-platforms-python-language-summit-2020" title="Link to this heading">¶</a></h1>
<p><em>This was originally posted on blogger</em> <a class="reference external" href="https://pyfound.blogspot.com/2020/05/cpython-on-mobile-platforms.html">here</a>.</p>
<p><a class="reference external" href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEjXo114_hvreDvjw-I9grLq8Hy69mgvunGq8YZbNOVZ0kmbC5Jg3A_Xhjc317AQdfV2dtF6ie13PQNQ1TCYI8qewOWwBKYe0AVYeUJDTTlF-RdfJmnFrkazBDEdsc3ZMA-KJw/s1600/rusty-mugshot-djangocon-us-2018.jpg">![</a>](<a class="reference external" href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEjXo114_hvreDvjw-I9grLq8Hy69mgvunGq8YZbNOVZ0kmbC5Jg3A_Xhjc317AQdfV2dtF6ie13PQNQ1TCYI8qewOWwBKYe0AVYeUJDTTlF">https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEjXo114_hvreDvjw-I9grLq8Hy69mgvunGq8YZbNOVZ0kmbC5Jg3A_Xhjc317AQdfV2dtF6ie13PQNQ1TCYI8qewOWwBKYe0AVYeUJDTTlF</a>-
RdfJmnFrkazBDEdsc3ZMA-KJw/s1600/rusty-mugshot-djangocon-us-2018.jpg)
“We’ve got very big news on Android,” Russell Keith-Magee told the Language
Summit. “We’re close to having a full set of BeeWare tools that can run on
Android.”</p>
<p>The BeeWare project aims to let programmers write apps in Python for Android,
iOS, and other platforms using native UI widgets. Keith-Magee reported that
BeeWare has made good progress since <a class="reference external" href="https://pyfound.blogspot.com/2019/05/russell-keith-magee-python-on-other.html">his Summit
presentation</a> last year. On iOS, “Python worked well before, it works well
now,” and BeeWare has added Python 3.8 support. Until recently, however,
Python was struggling to make inroads on Android. BeeWare’s Android strategy
was to compile Python to Java bytecode, but Android devices are now fast
enough, and the Android kernel permissive enough, to run CPython itself. <a class="reference external" href="https://beeware.org/news/buzz/beeware-project-awarded-a-psf-education-grant/">With
funding from the PSF</a>, BeeWare hired Asheesh Laroia to port CPython to
Android.</p>
<p><a class="reference external" href="http://pyfound.blogspot.com/2020/04/the-2020-python-language-summit.html">Read more 2020 Python Language Summit
coverage</a>.</p>
<ul class="simple">
<li><ul>
<li><ul>
<li></li>
</ul>
</li>
</ul>
</li>
</ul>
<p>A top concern for BeeWare is distribution size. Python applications for mobile
each bundle their own copy of the Python runtime, so Python must be shrunk as
small as possible. There have been proposals recently for a “minimum viable
Python” or “<a class="reference external" href="https://glyph.twistedmatrix.com/2019/06/kernel-python.html">kernel Python</a>”, which would ship without the standard library and let
developers install the stdlib modules they need from PyPI. (<a class="reference external" href="http://pyfound.blogspot.com/2019/05/amber-brown-batteries-included-but.html">Amber Brown’s
2019 Summit talk</a> inspired some of these proposals.) Keith-Magee said a
kernel Python would solve many problems for mobile. He also asked for a cross-
compiling <cite>pip</cite> that installs packages for a target platform, instead of the
platform it’s running on. Senthil Kumaran observed, “BeeWare, MicroPython,
Embedded Python, Kivy all seem to have a need for a kernel-only Python,” and
suggested they combine forces to create one.</p>
<p><a class="reference external" href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEiZTv04D6S8fxLoF_R9LK7e0WFGwz_DMKcfm-dvEQerQNkpibMXyLfGS7wXzg3ZzMik6iXWtj9HyMp9cDEPHK9WxGz0pOqbuVAp7U9U4TI5cfFBzAJiNoi3cADCHbO2ReUw2w/s1600/beeware.png">![</a>](<a class="reference external" href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEiZTv04D6S8fxLoF_R9LK7e0WFGwz_DMKcfm">https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEiZTv04D6S8fxLoF_R9LK7e0WFGwz_DMKcfm</a>-
dvEQerQNkpibMXyLfGS7wXzg3ZzMik6iXWtj9HyMp9cDEPHK9WxGz0pOqbuVAp7U9U4TI5cfFBzAJiNoi3cADCHbO2ReUw2w/s1600/beeware.png)</p>
<p>To regular Python programmers, the mobile environment is an alien planet.
There are no subprocesses; sockets, pipes and signals all behave differently
than on regular Unix; and many syscalls are prohibited. TLS certificate
handling on Android is particularly quirky. For the CPython test suite to pass
on mobile it must skip the numerous tests that use <cite>fork</cite> or <cite>spawn</cite>, or use
signals, or any other APIs that are different or absent.</p>
<p>Adapting CPython for life on this alien planet requires changes throughout the
code base. In 2015 Keith-Magee submitted a “monster patch” <a class="reference external" href="https://bugs.python.org/issue23670">enabling iOS
support for CPython</a>, but the patch has
languished in the years since. Now, he <a class="reference external" href="https://github.com/freakboy3742/cpython">maintains a
fork</a> with the iOS patches applied to
branches for Python 3.5 through 3.8. For Android, he maintains a handful of
patch files and a list of unittests to skip. Now that Android support is
maturing, he said, “We’re in a place where we can have a serious conversation
about how we get these changes merged into CPython itself.”</p>
<p>A prerequisite for merging these changes is mobile platform testing in
<a class="reference external" href="https://www.python.org/dev/buildbot/">CPython’s continuous integration
system</a>. Currently, Keith-Magee tests on
his laptop with several phones connected to it. As he told the Summit, he’s
certain there is a CI service with physical phones, but he has not found it
yet and hasn’t invested in building one. He develops BeeWare in his spare
time, and CI is not the top priority. “Funding is one thing that makes stuff
happen,” he said. He thanked the PSF for the grant that made Android support
possible. Mobile Python suffers a chicken-and-egg problem: there is no
corporate funding for Python on mobile because Python doesn’t support mobile,
so there is no one relying on mobile Python who is motivated to fund it.</p>
<p>Keith-Magee asked the Summit attendees to be frank with him about bringing
mobile Python into the core. He asked, “Do we want this at all?” If so, the
core team would have to review _all_ patches with their mobile impact in mind,
as well as reviewing mobile-specific patches. “What is the appetite for
patches that require non-mobile developers to care about mobile issues?” The
decision would involve the whole core team and many community discussions.
Guido van Rossum endorsed good mobile support long-term. So did Ned Deily,
adding, “To actually do it will require money and people. Bigger than many
other projects.”</p>
</section>

<div class="section ablog__blog_comments">
  
  


<div class="section ablog__prev-next">
  <span class="ablog__prev">
    
    
    Previous:
    
    <a href="2020-05-core-workflow-updates-python-language.html">
      
      <span>Core Workflow updates - Python Language Summit 2020</span>
    </a>
    
  </span>
  <span class="ablog__spacer">&nbsp;</span>
  <span class="ablog__next">
    
    
    Next:
    
    <a href="2020-05-6-ways-salesforce-gets-things-done-with.html">
      <span>6 Ways Salesforce Gets Things Done with Python</span>
      
    </a>
    
  </span>
</div>

  
  
</div>

      </article>
      
    </main>
  </div><footer class="sy-foot">
  <div class="sy-foot-inner sy-container mx-auto">
    <div class="sy-foot-reserved md:flex justify-between items-center">
      <div class="sy-foot-copyright"><p>2024, Python Software Foundation</p>
  
  <p>
    Made with
    
    <a href="https://www.sphinx-doc.org/">Sphinx</a> and
    
    <a href="https://shibuya.lepture.com">Shibuya theme</a>.
  </p>
</div>
      <div class="sy-foot-socials"></div>
    </div>
  </div>
</footer>
      <script src="../../_static/documentation_options.js?v=8a448e45"></script>
      <script src="../../_static/doctools.js?v=9a2dae69"></script>
      <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
      <script src="../../_static/clipboard.min.js?v=a7894cd8"></script>
      <script src="../../_static/copybutton.js?v=f281be69"></script>
      <script src="../../_static/design-tabs.js?v=f930bc37"></script>
      <script src="../../_static/shibuya.js?v=3cc430e2"></script></body>
</html>